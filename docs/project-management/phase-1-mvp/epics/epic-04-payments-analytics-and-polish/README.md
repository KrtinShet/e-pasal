# E04 - Payments, Analytics, and Polish

Add payment gateway support (eSewa, Khalti, Fonepay), notifications, analytics, merchant integration settings, and quality hardening.

## Priority

HIGH

## Sprint Coverage

- Sprint 4

## Dependencies

- E01-E03 (foundation, catalog, orders) - Done

## Stories

| Story ID | Story                                                                                                            | Sprint   | Planned Window |
| -------- | ---------------------------------------------------------------------------------------------------------------- | -------- | -------------- |
| E04-S01  | [eSewa checkout integration and payment adapter](./stories/story-e04-s01-esewa-checkout-adapter/README.md)       | Sprint 4 | Week 7 Day 1-2 |
| E04-S02  | [eSewa webhook verification and reconciliation](./stories/story-e04-s02-esewa-webhook-reconciliation/README.md)  | Sprint 4 | Week 7 Day 2-3 |
| E04-S03  | [Transactional email notifications](./stories/story-e04-s03-email-notifications/README.md)                       | Sprint 4 | Week 7 Day 4-5 |
| E04-S04  | [Analytics API and dashboard insights](./stories/story-e04-s04-analytics-dashboard/README.md)                    | Sprint 4 | Week 8 Day 1-2 |
| E04-S05  | [Mobile optimization and quality hardening](./stories/story-e04-s05-mobile-optimization-and-hardening/README.md) | Sprint 4 | Week 8 Day 3-5 |
| E04-S06  | [Khalti payment provider implementation](./stories/story-e04-s06-khalti-payment-provider/README.md)              | Sprint 4 | Week 7 Day 3-4 |
| E04-S07  | [Fonepay QR payment provider](./stories/story-e04-s07-fonepay-qr-provider/README.md)                             | Sprint 4 | Week 8 Day 1-2 |
| E04-S08  | [Payment infrastructure and merchant config](./stories/story-e04-s08-payment-infrastructure/README.md)           | Sprint 4 | Week 8 Day 3-5 |

## Story Folder

- [Story Index](./stories/README.md)
